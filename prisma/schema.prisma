// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Order {
  id      Int @default(autoincrement()) @id
  user    User? @relation(fields: [userId], references: [id])
  userId  Int?
  @@map("orders")
}

model User {
  id              Int @default(autoincrement()) @id
  firstname       String?
  lastname        String?
  email           String? @unique
  emailVerified   DateTime? @map("email_verified")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")
  address         String?
  phone           String?
  orders          Order[]

  @@map("users")
}

model Account {
  id                  Int @default(autoincrement()) @id
  compoundId          String @unique @map("compound_id")
  userId              Int @map("user_id")
  providerType        String @map("provider_type")
  providerId          String @map("provider_id")
  providerAccountId   String @map("provider_account_id")
  refreshToken        String? @map("refresh_token")
  accessToken         String? @map("access_token")
  accessTokenExpires  DateTime? @map("access_token_expires")
  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @default(now()) @map("updated_at")

  @@index([providerAccountId], name: "providerAccountId")
  @@index([providerId], name: "providerId")
  @@index([userId], name: "userId")

  @@map("accounts")
}

model Session {
  id        Int @default(autoincrement()) @id
  userId    Int @map("user_id")
  expires   DateTime
  sessionToken  String @unique @map("session_token")
  accessToken   String @unique @map("access_token")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @default(now()) @map("updated_at")

  @@map("sessions")
}
